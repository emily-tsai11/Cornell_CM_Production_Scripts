% pdflatex --jobname=12ch_summary "\input{eyescan_summary_emily.tex}"
% pdflatex --jobname=6_12ch_summary "\def\dateofscans{05-16-24} \input{eyescan_summary_emily.tex}"

\documentclass{report}
\usepackage{graphicx}
\usepackage[a4paper, margin=0.5in]{geometry}
\usepackage{subcaption}
% \usepackage{printlen}
\usepackage{pdfpages}
% \uselengthunit{cm}
% \usepackage{import}
% \usepackage{xifthen}
\usepackage{ifthen}
\usepackage{pgf}
\usepackage{tikz}
% \usepackage{comment}
\usepackage{intcalc}
\usepackage{xcolor} % Required for specifying custom colours
\definecolor{grey}{rgb}{0.9, 0.9, 0.9} % Colour of the box surrounding the title

\newlength\imageheight
\newlength\imagewidth

\newcommand{\includegraphicsmaybe}[1]{\IfFileExists{#1}{\includegraphics[width=\linewidth]{#1}}{\includegraphics[width=\linewidth]{not_found.png}}}
% \newcommand\dateofscans{05-16-24} % Enter the date on which the scans were made (e.g. 06-13-22), assuming eyescans were properly filed
\newcommand\board{apollo214}

\usepackage{booktabs}

\usepackage{hyperref}

\setlength{\parindent}{0pt}

\newcounter{includepdfpage}
\newcounter{currentpagecounter}
\newcommand{\addlabelstoallincludedpages}[1]{
  \refstepcounter{includepdfpage}
  \stepcounter{currentpagecounter}
  \label{#1.\thecurrentpagecounter}}
\newcommand{\modifiedincludepdf}[3]{
  \setcounter{currentpagecounter}{0}
  \includepdf[pages=#1,pagecommand=\addlabelstoallincludedpages{#2}]{#3}}

\begin{document}

%----------------------------------------------------------------------------------------
% TITLE PAGE
%----------------------------------------------------------------------------------------

\begin{titlepage} % Suppresses displaying the page number on the title page and the subsequent page counts as page 1

  %------------------------------------------------
  % Grey title box
  %------------------------------------------------

  \colorbox{grey}{
    \parbox[t]{0.93\textwidth}{ % Outer full width box
      \parbox[t]{0.91\textwidth}{ % Inner box for inner right text margin
        \raggedleft % Right align the text
        \fontsize{80pt}{40pt}\selectfont % Title font size, the first argument is the font size and the second is the line spacing, adjust depending on title length
        \vspace{0.7cm} % Space between the start of the title and the top of the grey box

        Apollo 214 \\
        Serial Link Test Report \\
        Date of Scans: \dateofscans \\

        \vspace{0.7cm} % Space between the end of the title and the bottom of the grey box
      }
    }
  }

  \vfill % Space between the title box and author information

  %------------------------------------------------
  % Author name and information
  %------------------------------------------------

  \parbox[t]{0.93\textwidth}{ % Box to inset this section slightly
    \raggedleft % Right align the text
    \large % Increase the font size\large % Increase the font size
    {\Large Emily Tsai} \\[4pt] % Extra space after name
    CERN \\
    Northeastern University \\[4pt] % Extra space before URL
    \hfill\rule{0.2\linewidth}{1pt} % Horizontal line, first argument width, second thickness
  }

\end{titlepage}

\phantomsection 
\hypertarget{MyToc}{} % Make an anchor to the toc
\tableofcontents
\newpage

% \chapter{Initial Considerations}

% \section{Eye diagram mask}

% \begin{figure}[h!]
% \centering
% \includegraphics[width=0.70\linewidth]{ieeemask.png}
% \caption{Transmitter eye mask definition}
% \label{fig:ieeemask}
% \end{figure}

% Figure \ref{fig:ieeemask} shows the eye mask parameters {X1, X2, X3, Y1, Y2, Y3} = {0.25, 0.40, 0.45, 0.25, 0.28, 0.80} extracted from the Table 68-3---10GBASE-LRM transmit characteristics part of the IEEE Std 802.3-2015 SECTION 5. 


% REAL START OF PDF
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Links Between xcvu13p\_0 to xcvu13p\_0 Overview}
\hyperlink{MyToc}{Return to Table of Contents}
\newpage

  \begin{figure}[h] % ``[t!]'' placement specifier just for this example
    % Numbers here can be modified based on reverse loopback links scanned
    \foreach \number [count=\nxtrow from int(1), count=\i from int(\thepage+2), evaluate=\number as \Rx using int(19-\number)] in {4,...,15}{
      \ifthenelse{\nxtrow=4 \OR \nxtrow=8 \OR \nxtrow=12 \OR \nxtrow=16 \OR \nxtrow=20 \OR \nxtrow=24 \OR \nxtrow=28}{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_0tx)_to_X0Y\Rx(xcvu13p_0rx).png}}
        \end{subfigure}
      }{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_0tx)_to_X0Y\Rx(xcvu13p_0rx).png}}
        \end{subfigure}\hspace*{\fill}
      }
    }
    \caption{F1\_1 reverse loopback overview.} % \label{F1_1_reverse_loopback_overview}
  \end{figure} \newpage

  \begin{figure}[h] % ``[t!]'' placement specifier just for this example
    % Numbers here can be modified based on loopback links scanned
    \foreach \number [count=\nxtrow from int(1), count=\i from int(\thepage+2)] in {20,...,31} {
      \ifthenelse{\nxtrow=4 \OR \nxtrow=8 \OR \nxtrow=12 \OR \nxtrow=16 \OR \nxtrow=20 \OR \nxtrow=24 \OR \nxtrow=28}{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_0tx)_to_X0Y\number(xcvu13p_0rx).png}}
        \end{subfigure}
      }{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_0tx)_to_X0Y\number(xcvu13p_0rx).png}}
        \end{subfigure}\hspace*{\fill}
      }
    }
    \caption{F1\_2 loopback overview.} % \label{F1_2_loopback_overview}
  \end{figure} \newpage

  \begin{figure}[h] % ``[t!]'' placement specifier just for this example
    % Numbers here can be modified based on reverse loopback links scanned
    \foreach \number [count=\nxtrow from int(1), count=\i from int(\thepage+2), evaluate=\number as \Rx using int(107-\number)] in {48,...,59}{
      \ifthenelse{\nxtrow=4 \OR \nxtrow=8 \OR \nxtrow=12 \OR \nxtrow=16 \OR \nxtrow=20 \OR \nxtrow=24 \OR \nxtrow=28}{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_0tx)_to_X0Y\Rx(xcvu13p_0rx).png}}
        \end{subfigure}
      }{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_0tx)_to_X0Y\Rx(xcvu13p_0rx).png}}
        \end{subfigure}\hspace*{\fill}
      }
    }
    \caption{F1\_3 reverse loopback overview.} % \label{F1_3_reverse_loopback_overview}
  \end{figure}


\chapter{Links Between xcvu13p\_1 to xcvu13p\_1 Overview}
\hyperlink{MyToc}{Return to Table of Contents}
\newpage

  \begin{figure}[h] % ``[t!]'' placement specifier just for this example
    % Numbers here can be modified based on loopback links scanned
    \foreach \number [count=\nxtrow from int(1), count=\i from int(\thepage+2)] in {4,...,15} {
      \ifthenelse{\nxtrow=4 \OR \nxtrow=8 \OR \nxtrow=12 \OR \nxtrow=16 \OR \nxtrow=20 \OR \nxtrow=24 \OR \nxtrow=28}{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_1tx)_to_X0Y\number(xcvu13p_1rx).png}}
        \end{subfigure}
      }{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_1tx)_to_X0Y\number(xcvu13p_1rx).png}}
        \end{subfigure}\hspace*{\fill}
      }
    }
    \caption{F2\_1 loopback overview.} % \label{F2_1_loopback_overview}
  \end{figure} \newpage

  \begin{figure}[h] % ``[t!]'' placement specifier just for this example
    % Numbers here can be modified based on reverse loopback links scanned
    \foreach \number [count=\nxtrow from int(1), count=\i from int(\thepage+2), evaluate=\number as \Rx using int(51-\number)] in {20,...,31}{
      \ifthenelse{\nxtrow=4 \OR \nxtrow=8 \OR \nxtrow=12 \OR \nxtrow=16 \OR \nxtrow=20 \OR \nxtrow=24 \OR \nxtrow=28}{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_1tx)_to_X0Y\Rx(xcvu13p_1rx).png}}
        \end{subfigure}
      }{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_1tx)_to_X0Y\Rx(xcvu13p_1rx).png}}
        \end{subfigure}\hspace*{\fill}
      }
    }
    \caption{F2\_2 reverse loopback overview.} % \label{F2_2_reverse_loopback_overview}
  \end{figure} \newpage

  \begin{figure}[h] % ``[t!]'' placement specifier just for this example
    % Numbers here can be modified based on reverse loopback links scanned
    \foreach \number [count=\nxtrow from int(1), count=\i from int(\thepage+2), evaluate=\number as \Rx using int(107-\number)] in {48,...,59}{
      \ifthenelse{\nxtrow=4 \OR \nxtrow=8 \OR \nxtrow=12 \OR \nxtrow=16 \OR \nxtrow=20 \OR \nxtrow=24 \OR \nxtrow=28}{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_1tx)_to_X0Y\Rx(xcvu13p_1rx).png}}
        \end{subfigure}
      }{
        \begin{subfigure}{0.25\textwidth}
          \hyperlink{page.\i}{\includegraphicsmaybe{../../scans/\board/\dateofscans/eyescan_X0Y\number(xcvu13p_1tx)_to_X0Y\Rx(xcvu13p_1rx).png}}
        \end{subfigure}\hspace*{\fill}
      }
    }
    \caption{F2\_3 reverse loopback overview.} % \label{F2_3_reverse_loopback_overview}
  \end{figure}


\chapter{Links of xcvu13p\_0 to xcvu13p\_0 Details}
\hyperlink{MyToc}{Return to Table of Contents}
\newpage

  \foreach \n [evaluate=\n as \Rx using int(19-\n)] in {4,...,15}{
    \modifiedincludepdf{-}{X0Y\n(xcvu13p_0tx)_to_X0Y\Rx(xcvu13p_0rx)}{../../scans/\board/\dateofscans/eyescan_X0Y\n(xcvu13p_0tx)_to_X0Y\Rx(xcvu13p_0rx).pdf}
  }
  \foreach \n in {20,...,31} {
    \modifiedincludepdf{-}{X0Y\n(xcvu13p_0tx)_to_X0Y\n(xcvu13p_0rx)}{../../scans/\board/\dateofscans/eyescan_X0Y\n(xcvu13p_0tx)_to_X0Y\n(xcvu13p_0rx).pdf}
  }
  \foreach \n [evaluate=\n as \Rx using int(107-\n)] in {48,...,59}{
    \modifiedincludepdf{-}{X0Y\n(xcvu13p_0tx)_to_X0Y\Rx(xcvu13p_0rx)}{../../scans/\board/\dateofscans/eyescan_X0Y\n(xcvu13p_0tx)_to_X0Y\Rx(xcvu13p_0rx).pdf}
  }


\chapter{Links of xcvu13p\_1 to xcvu13p\_1 Details}
\hyperlink{MyToc}{Return to Table of Contents}
\newpage

  \foreach \n in {4,...,15} {
    \modifiedincludepdf{-}{X0Y\n(xcvu13p_1tx)_to_X0Y\n(xcvu13p_1rx)}{../../scans/\board/\dateofscans/eyescan_X0Y\n(xcvu13p_1tx)_to_X0Y\n(xcvu13p_1rx).pdf}
  }
  \foreach \n [evaluate=\n as \Rx using int(51-\n)] in {20,...,31}{
    \modifiedincludepdf{-}{X0Y\n(xcvu13p_1tx)_to_X0Y\Rx(xcvu13p_1rx)}{../../scans/\board/\dateofscans/eyescan_X0Y\n(xcvu13p_1tx)_to_X0Y\Rx(xcvu13p_1rx).pdf}
  }
  \foreach \n [evaluate=\n as \Rx using int(107-\n)] in {48,...,59}{
    \modifiedincludepdf{-}{X0Y\n(xcvu13p_1tx)_to_X0Y\Rx(xcvu13p_1rx)}{../../scans/\board/\dateofscans/eyescan_X0Y\n(xcvu13p_1tx)_to_X0Y\Rx(xcvu13p_1rx).pdf}
  }

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\end{document}
